;var gmMaps={};var geocoder=new google.maps.Geocoder;jQuery(document).ready(function(o){if('https'==window.location.protocol){userLocation()}});function generate_map(o,e,s,i){var n=new google.maps.Map(document.getElementById(o),{center:e.center,zoom:Number(e.zoom)});var a=[],r=new google.maps.LatLngBounds(),t=new google.maps.InfoWindow();jQuery.each(s,function(o,e){e.map=n;var s=new google.maps.Marker(e);a.push(s);r.extend(e.position);s.addListener('click',function(){t.setContent(i[o].content);t.open(n,s)})});google.maps.event.addListenerOnce(n,'bounds_changed',function(){if(this.getZoom()>15){this.setZoom(15)}});n.fitBounds(r);gmMaps[o]={map:n,markers:a,infoWindow:t}};function userLocation(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(o){gmMaps['userLocation']={position:o};addressFromLocation(o.coords.latitude,o.coords.longitude)},userLocationError)}};function userLocationError(o){var e='';switch(o.code){case o.PERMISSION_DENIED:e='User denied the request for Geolocation.';break;case o.POSITION_UNAVAILABLE:e='Location information is unavailable.';break;case o.TIMEOUT:e='The request to get user location timed out.';break;case o.UNKNOWN_ERROR:e='An unknown error occurred.';break};gmMaps['userLocation']={status:'error',code:o.code,message:e}};function addressFromLocation(o,e){var n=new google.maps.Geocoder,t=new google.maps.LatLng(o,e),a='';n.geocode({'latLng':t},function(o,e){if(e==google.maps.GeocoderStatus.OK){if(o[0]){gmMaps['userLocation']['address']=o[0].formatted_address}}})};